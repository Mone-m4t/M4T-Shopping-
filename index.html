<!DOCTYPE html>
<html lang="lo">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5">
<title>เบเบฐเบซเบผเบฒเบเบญเบญเบเบฅเบฒเบ</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:Arial,sans-serif;background:#f5f5f5;padding-bottom:60px}
.header{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:15px;text-align:center;box-shadow:0 2px 8px rgba(0,0,0,.1);position:sticky;top:0;z-index:100}
.header h1{font-size:24px;margin-bottom:10px}
.search{margin:10px 15px;position:relative}
.search input{width:100%;padding:12px 40px 12px 15px;border:none;border-radius:25px;font-size:16px;box-shadow:0 2px 8px rgba(0,0,0,.1)}
.search-icon{position:absolute;right:15px;top:50%;transform:translateY(-50%);color:#667eea;font-size:20px}
.menu-btn{position:fixed;top:15px;left:15px;background:#fff;width:45px;height:45px;border-radius:50%;cursor:pointer;z-index:200;box-shadow:0 2px 8px rgba(0,0,0,.2);display:flex;align-items:center;justify-content:center}
.menu-icon{width:24px;height:2px;background:#667eea;position:relative;transition:.3s}
.menu-icon::before,.menu-icon::after{content:'';position:absolute;width:24px;height:2px;background:#667eea;transition:.3s}
.menu-icon::before{top:-8px}
.menu-icon::after{top:8px}
.menu-btn.active .menu-icon{background:transparent}
.menu-btn.active .menu-icon::before{transform:rotate(45deg);top:0}
.menu-btn.active .menu-icon::after{transform:rotate(-45deg);top:0}
.sidebar{position:fixed;left:-300px;top:0;width:280px;height:100%;background:#fff;box-shadow:2px 0 10px rgba(0,0,0,.1);transition:.3s;z-index:150;overflow-y:auto}
.sidebar.active{left:0}
.sidebar-header{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:20px;font-size:20px;font-weight:bold}
.menu-item{padding:15px 20px;border-bottom:1px solid #eee;cursor:pointer;transition:.2s;display:flex;align-items:center;gap:10px}
.menu-item:hover{background:#f8f9fa}
.menu-item.active{background:#667eea;color:#fff}
.overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);opacity:0;visibility:hidden;transition:.3s;z-index:140}
.overlay.active{opacity:1;visibility:visible}
.container{padding:15px;max-width:1200px;margin:0 auto}
.category-title{font-size:22px;color:#333;margin:20px 0 15px;padding-left:5px;border-left:4px solid #667eea}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:15px;margin-bottom:30px}
.card{background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 2px 8px rgba(0,0,0,.1);transition:.3s;cursor:pointer}
.card:hover{transform:translateY(-5px);box-shadow:0 4px 15px rgba(0,0,0,.2)}
.card-img{width:100%;height:160px;object-fit:cover;background:#eee}
.card-body{padding:12px}
.card-title{font-size:14px;font-weight:bold;color:#333;margin-bottom:5px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}
.card-price{font-size:16px;color:#667eea;font-weight:bold;margin:5px 0}
.card-address{font-size:12px;color:#666;margin:5px 0;white-space:pre-wrap}
.card-btn{width:100%;padding:8px;background:#25D366;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:14px;margin-top:8px;font-weight:bold}
.card-btn:hover{background:#20BD5A}
.quantity-input{width:100%;padding:6px;border:1px solid #ddd;border-radius:6px;margin:5px 0;font-size:14px}
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);z-index:300;align-items:center;justify-content:center;padding:20px}
.modal.active{display:flex}
.modal-content{background:#fff;border-radius:12px;padding:25px;max-width:600px;width:100%;max-height:90vh;overflow-y:auto}
.modal-title{font-size:20px;font-weight:bold;color:#333;margin-bottom:15px}
.modal-input{width:100%;padding:10px;margin:8px 0;border:1px solid #ddd;border-radius:6px;font-size:14px}
.modal-btn{width:100%;padding:12px;background:#667eea;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:16px;margin:5px 0;font-weight:bold}
.modal-btn:hover{background:#5568d3}
.modal-btn.cancel{background:#dc3545}
.modal-btn.cancel:hover{background:#c82333}
.modal-btn.success{background:#28a745}
.modal-btn.success:hover{background:#218838}
.fab{position:fixed;bottom:20px;right:20px;width:60px;height:60px;background:#667eea;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:30px;cursor:pointer;box-shadow:0 4px 12px rgba(0,0,0,.3);z-index:100}
.fab:hover{background:#5568d3}
.empty{text-align:center;padding:50px 20px;color:#999}
.admin-tabs{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap}
.admin-tab{padding:10px 20px;background:#f8f9fa;border:none;border-radius:6px;cursor:pointer;font-size:14px;font-weight:bold;transition:.2s}
.admin-tab:hover{background:#e9ecef}
.admin-tab.active{background:#667eea;color:#fff}
.product-list{max-height:400px;overflow-y:auto;border:1px solid #ddd;border-radius:6px;padding:10px}
.product-item{background:#f8f9fa;padding:12px;margin:8px 0;border-radius:6px;display:flex;justify-content:space-between;align-items:center;gap:10px}
.product-info{flex:1}
.product-name{font-weight:bold;color:#333;margin-bottom:5px}
.product-price{color:#667eea;font-size:14px}
.product-cat{color:#666;font-size:12px}
.delete-btn{background:#dc3545;color:#fff;border:none;padding:8px 15px;border-radius:4px;cursor:pointer;font-size:12px}
.delete-btn:hover{background:#c82333}
.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin:20px 0}
.stat-card{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.1);text-align:center}
.stat-value{font-size:32px;font-weight:bold;color:#667eea;margin:10px 0}
.stat-label{color:#666;font-size:14px}
.sales-list{max-height:400px;overflow-y:auto}
.sale-item{background:#fff;padding:15px;margin:10px 0;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.1);position:relative}
.sale-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.sale-date{color:#666;font-size:12px}
.sale-product{font-weight:bold;color:#333;margin:5px 0}
.sale-details{color:#666;font-size:14px}
.sale-total{color:#667eea;font-weight:bold;font-size:16px;margin-top:10px}
@media(max-width:480px){
.grid{grid-template-columns:repeat(2,1fr);gap:10px}
.card-img{height:140px}
.header h1{font-size:20px}
.stats-grid{grid-template-columns:1fr}
.admin-tabs{flex-direction:column}
}
</style>
</head>
<body>
<div class="header">
<h1>เบเบฐเบซเบผเบฒเบเบญเบญเบเบฅเบฒเบ</h1>
</div>

<div class="menu-btn" onclick="toggleMenu()">
<div class="menu-icon"></div>
</div>

<div class="sidebar" id="sidebar">
<div class="sidebar-header">๐ เปเบงเบเปเบนเปเบชเบดเบเบเปเบฒ</div>
<div class="menu-item" onclick="showCategory('all')">๐ เบเบฑเบเปเบปเบ</div>
<div class="menu-item" onclick="showCategory('cars')">๐ เบฅเบปเบเบกเบทเบชเบญเบ</div>
<div class="menu-item" onclick="showCategory('phones')">๐ฑ เบกเบทเบเบทเบกเบทเบชเบญเบ</div>
<div class="menu-item" onclick="showCategory('clothes')">๐ เปเบชเบทเปเบญเบเปเบฒ</div>
<div class="menu-item" onclick="showCategory('daily')">๐ เปเบเบทเปเบญเบเปเบเปเบเบฐเบเบณเบงเบฑเบ</div>
<div class="menu-item" onclick="showCategory('food')">๐ เบญเบฒเบซเบฒเบ เปเบฅเบฐ เปเบเบทเปเบญเบเบเบทเปเบก</div>
<div class="menu-item" onclick="showCategory('freelance')">๐ผ เบงเบฝเบเบญเบดเบเบชเบฐเบซเบผเบฐ</div>
<div class="menu-item" onclick="showCategory('jobs')">๐ เบซเบฒเบงเบฝเบ</div>
<div class="menu-item" onclick="showCategory('news')">๐ฐ เบเปเบฒเบงเบชเบฒเบ</div>
</div>

<div class="overlay" id="overlay" onclick="toggleMenu()"></div>

<div class="search">
<input type="text" id="searchInput" placeholder="เบเบปเปเบเบซเบฒเบชเบดเบเบเปเบฒ..." oninput="searchProducts()">
<span class="search-icon">๐</span>
</div>

<div class="container" id="content"></div>

<div class="fab" onclick="showAdminModal()">+</div>

<div class="modal" id="adminModal">
<div class="modal-content">
<div class="modal-title">๐ เบเบปเบงเบเบฑเบเบเบฒเบเบชเบดเบเบเปเบฒ</div>
<input type="password" id="adminPass" class="modal-input" placeholder="เบฅเบฐเบซเบฑเบเบเปเบฒเบ (Admin)">
<button class="modal-btn" onclick="checkAdmin()">เปเบเบปเปเบฒเบชเบนเปเบฅเบฐเบเบปเบ</button>
<button class="modal-btn cancel" onclick="closeModal('adminModal')">เบเบปเบเปเบฅเบตเบ</button>
</div>
</div>

<div class="modal" id="manageModal">
<div class="modal-content">
<div class="modal-title">๐๏ธ เบฅเบฐเบเบปเบเบเบฑเบเบเบฒเบ</div>
<div class="admin-tabs">
<button class="admin-tab active" onclick="switchTab('add')">โ เปเบเบตเปเบกเบชเบดเบเบเปเบฒ</button>
<button class="admin-tab" onclick="switchTab('manage')">๐ฆ เบเบฑเบเบเบฒเบเบชเบดเบเบเปเบฒ</button>
<button class="admin-tab" onclick="switchTab('sales')">๐ เบเบญเบเบเบฒเบ</button>
</div>
<div id="tabContent"></div>
<button class="modal-btn cancel" onclick="closeManageModal()">เบเบดเบ</button>
</div>
</div>

<script>
let data={cars:[],phones:[],clothes:[],daily:[],food:[],freelance:[],jobs:[],news:[]};
let sales=[];
let currentCategory='all';
let isAdmin=false;
let searchTerm='';
let currentTab='add';

const categoryNames={
cars:'๐ เบฅเบปเบเบกเบทเบชเบญเบ',
phones:'๐ฑ เบกเบทเบเบทเบกเบทเบชเบญเบ เปเบฅเบฐ เบญเบธเบเบฐเบเบญเบเปเบชเบตเบก',
clothes:'๐ เปเบชเบทเปเบญเบเปเบฒ',
daily:'๐ เปเบเบทเปเบญเบเปเบเปเบเบฐเบเบณเบงเบฑเบ',
food:'๐ เบญเบฒเบซเบฒเบ เปเบฅเบฐ เปเบเบทเปเบญเบเบเบทเปเบก',
freelance:'๐ผ เบงเบฝเบเบญเบดเบเบชเบฐเบซเบผเบฐ',
jobs:'๐ เบซเบฒเบงเบฝเบ',
news:'๐ฐ เบเปเบฒเบงเบชเบฒเบ'
};

function init(){
const saved=localStorage.getItem('m4t_data');
if(saved){
try{data=JSON.parse(saved)}catch(e){console.error(e)}
}
const savedSales=localStorage.getItem('m4t_sales');
if(savedSales){
try{sales=JSON.parse(savedSales)}catch(e){console.error(e)}
}
render();
}

function save(){
localStorage.setItem('m4t_data',JSON.stringify(data));
}

function saveSales(){
localStorage.setItem('m4t_sales',JSON.stringify(sales));
}

function toggleMenu(){
const sidebar=document.getElementById('sidebar');
const overlay=document.getElementById('overlay');
const menuBtn=document.querySelector('.menu-btn');
sidebar.classList.toggle('active');
overlay.classList.toggle('active');
menuBtn.classList.toggle('active');
}

function showCategory(cat){
currentCategory=cat;
toggleMenu();
render();
}

function render(){
const content=document.getElementById('content');
content.innerHTML='';
const cats=currentCategory==='all'?Object.keys(data):[currentCategory];
let hasItems=false;

cats.forEach(cat=>{
const items=data[cat]||[];
const filtered=searchTerm?items.filter(item=>
item.name.toLowerCase().includes(searchTerm.toLowerCase())
):items;

if(filtered.length>0){
hasItems=true;
const section=document.createElement('div');
section.innerHTML=`<div class="category-title">${categoryNames[cat]}</div>`;
const grid=document.createElement('div');
grid.className='grid';
filtered.forEach((item,idx)=>{
const card=document.createElement('div');
card.className='card';
const needsQty=cat==='clothes';
card.innerHTML=`
<img src="${item.image}" alt="${item.name}" class="card-img" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22160%22 height=%22160%22%3E%3Crect fill=%22%23ddd%22 width=%22160%22 height=%22160%22/%3E%3Ctext x=%2250%25%22 y=%2250%25%22 fill=%22%23999%22 text-anchor=%22middle%22 dy=%22.3em%22 font-size=%2220%22%3ENo Image%3C/text%3E%3C/svg%3E'">
<div class="card-body">
<div class="card-title">${item.name}</div>
<div class="card-price">๐ฐ ${item.price}</div>
<div class="card-address">๐ ${item.address||'เบเปเปเบกเบตเบเปเปเบกเบนเบ'}</div>
${needsQty?'<input type="number" class="quantity-input" id="qty-'+cat+'-'+idx+'" min="1" value="1" placeholder="เบเบณเบเบงเบ">':''}
<button class="card-btn" onclick="sendWhatsApp('${cat}',${idx})">๐ฒ WhatsApp</button>
</div>
`;
grid.appendChild(card);
});
section.appendChild(grid);
content.appendChild(section);
}
});

if(!hasItems){
content.innerHTML='<div class="empty">๐ฆ เบเปเปเบเบปเบเบชเบดเบเบเปเบฒ</div>';
}
}

function searchProducts(){
searchTerm=document.getElementById('searchInput').value;
render();
}

function sendWhatsApp(cat,idx){
const item=data[cat][idx];
if(!item.phone){
alert('โ๏ธ เบเปเปเบกเบตเปเบเบต WhatsApp');
return;
}
let qty=1;
let msg=`เบชเบฐเบเบฒเบเบเบต เบเปเบญเบเบชเบปเบเปเบ:\n๐ฆ ${item.name}\n๐ฐ เบฅเบฒเบเบฒ: ${item.price}\n๐ เบเบตเปเบขเบนเป: ${item.address||'เบเปเปเบกเบตเบเปเปเบกเบนเบ'}`;
if(cat==='clothes'){
const qtyInput=document.getElementById('qty-'+cat+'-'+idx);
qty=qtyInput?parseInt(qtyInput.value):1;
msg+=`\n๐ เบเบณเบเบงเบ: ${qty}`;
}
const phone=item.phone.replace(/[^0-9]/g,'');
const url=`https://wa.me/${phone}?text=${encodeURIComponent(msg)}`;
window.open(url,'_blank');

// เธเธฑเธเธเธถเธเธขเธญเธเธเธฒเธข
const sale={
id: Date.now(), // เนเธเธดเนเธก id เนเธเธทเนเธญเนเธเนเนเธเธเธฒเธฃเธฅเธ
date:new Date().toISOString(),
product:item.name,
price:item.price,
quantity:qty,
category:cat,
total:item.price,
address:item.address||'เบเปเปเบกเบตเบเปเปเบกเบนเบ'
};
sales.push(sale);
saveSales();
}

function showAdminModal(){
document.getElementById('adminPass').value='';
document.getElementById('adminModal').classList.add('active');
}

function closeModal(id){
document.getElementById(id).classList.remove('active');
}

function closeManageModal(){
isAdmin=false;
closeModal('manageModal');
render();
}

function checkAdmin(){
const pass=document.getElementById('adminPass').value;
if(pass==='2004'){
isAdmin=true;
closeModal('adminModal');
document.getElementById('manageModal').classList.add('active');
switchTab('add');
}else{
alert('โ เบฅเบฐเบซเบฑเบเบเปเบฒเบเบเปเปเบเบทเบเบเปเบญเบ!');
}
}

function switchTab(tab){
currentTab=tab;
const tabs=document.querySelectorAll('.admin-tab');
tabs.forEach(t=>t.classList.remove('active'));
event.target.classList.add('active');
renderTabContent();
}

function renderTabContent(){
const content=document.getElementById('tabContent');
if(currentTab==='add'){
content.innerHTML=`
<select id="addCategory" class="modal-input">
<option value="cars">๐ เบฅเบปเบเบกเบทเบชเบญเบ</option>
<option value="phones">๐ฑ เบกเบทเบเบทเบกเบทเบชเบญเบ</option>
<option value="clothes">๐ เปเบชเบทเปเบญเบเปเบฒ</option>
<option value="daily">๐ เปเบเบทเปเบญเบเปเบเปเบเบฐเบเบณเบงเบฑเบ</option>
<option value="food">๐ เบญเบฒเบซเบฒเบ เปเบฅเบฐ เปเบเบทเปเบญเบเบเบทเปเบก</option>
<option value="freelance">๐ผ เบงเบฝเบเบญเบดเบเบชเบฐเบซเบผเบฐ</option>
<option value="jobs">๐ เบซเบฒเบงเบฝเบ</option>
<option value="news">๐ฐ เบเปเบฒเบงเบชเบฒเบ</option>
</select>
<input type="text" id="addName" class="modal-input" placeholder="เบเบทเปเบชเบดเบเบเปเบฒ">
<input type="text" id="addPrice" class="modal-input" placeholder="เบฅเบฒเบเบฒ">
<input type="text" id="addImage" class="modal-input" placeholder="URL เบฎเบนเบเบเบฒเบ">
<input type="text" id="addPhone" class="modal-input" placeholder="เปเบเบตเปเบเบฅเบฐเบชเบฑเบ WhatsApp">
<input type="text" id="addAddress" class="modal-input" placeholder="เบเบตเปเบขเบนเป">
<button class="modal-btn success" onclick="addProduct()">โ เปเบเบตเปเบกเบชเบดเบเบเปเบฒ</button>
`;
}else if(currentTab==='manage'){
let html='<div class="product-list">';
Object.keys(data).forEach(cat=>{
data[cat].forEach((item,idx)=>{
html+=`
<div class="product-item">
<div class="product-info">
<div class="product-name">${item.name}</div>
<div class="product-price">๐ฐ ${item.price}</div>
<div class="product-cat">๐ ${categoryNames[cat]}</div>
</div>
<button class="delete-btn" onclick="deleteProduct('${cat}',${idx})">๐๏ธ เบฅเบถเบ</button>
</div>
`;
});
});
html+='</div>';
content.innerHTML=html;
}else if(currentTab==='sales'){
const totalSales=sales.length;
const totalRevenue=sales.reduce((sum,sale)=>sum+parseFloat(sale.price.replace(/[^0-9.]/g,'')||0)*sale.quantity,0);
let html=`
<div class="stats-grid">
<div class="stat-card">
<div class="stat-label">๐ เบเบญเบเบเบฒเบเบเบฑเบเปเบปเบ</div>
<div class="stat-value">${totalSales}</div>
</div>
<div class="stat-card">
<div class="stat-label">๐ฐ เบฅเบฒเบเบฎเบฑเบเบเบฑเบเปเบปเบ</div>
<div class="stat-value">${totalRevenue.toFixed(0)}</div>
</div>
</div>
<div class="sales-list">
`;
sales.slice().reverse().forEach(sale=>{
const date=new Date(sale.date);
const dateStr=date.toLocaleDateString('lo-LA')+' '+date.toLocaleTimeString('lo-LA',{hour:'2-digit',minute:'2-digit'});
html+=`
<div class="sale-item">
<div class="sale-header">
<span class="sale-date">๐ ${dateStr}</span>
<button class="delete-btn" onclick="deleteSale(${sale.id})">๐๏ธ เบฅเบถเบ</button>
</div>
<div class="sale-product">๐ฆ ${sale.product}</div>
<div class="sale-details">๐ ${categoryNames[sale.category]}</div>
<div class="sale-details">๐ เบเบตเปเบขเบนเป: ${sale.address}</div>
<div class="sale-details">๐ เบเบณเบเบงเบ: ${sale.quantity}</div>
<div class="sale-total">๐ฐ ${sale.total}</div>
</div>
`;
});
html+='</div>';
content.innerHTML=html;
}
}

function addProduct(){
const cat=document.getElementById('addCategory').value;
const name=document.getElementById('addName').value;
const price=document.getElementById('addPrice').value;
const image=document.getElementById('addImage').value;
const phone=document.getElementById('addPhone').value;
const address=document.getElementById('addAddress').value;

if(!name||!price){
alert('โ๏ธ เบเบฐเบฅเบธเบเบฒเปเบชเปเบเปเปเบกเบนเบเปเบซเปเบเบปเบ!');
return;
}

data[cat].push({name,price,image:image||'',phone:phone||'',address:address||''});
save();
render();
document.getElementById('addName').value='';
document.getElementById('addPrice').value='';
document.getElementById('addImage').value='';
document.getElementById('addPhone').value='';
document.getElementById('addAddress').value='';
alert('โ เปเบเบตเปเบกเบชเบดเบเบเปเบฒเบชเบณเปเบฅเบฑเบ!');
}

function deleteProduct(cat,idx){
if(confirm('โ๏ธ เบเปเบญเบเบเบฒเบเบฅเบถเบเบชเบดเบเบเปเบฒเบเบตเปเปเบเปเบเปเป?')){
data[cat].splice(idx,1);
save();
render();
renderTabContent();
alert('โ เบฅเบถเบเบชเบดเบเบเปเบฒเบชเบณเปเบฅเบฑเบ!');
}
}

function deleteSale(id){
if(confirm('โ๏ธ เบเปเบญเบเบเบฒเบเบฅเบถเบเบเบญเบเบเบฒเบเบเบตเปเปเบเปเบเปเป?')){
sales=sales.filter(sale=>sale.id!==id);
saveSales();
renderTabContent();
alert('โ เบฅเบถเบเบเบญเบเบเบฒเบเบชเบณเปเบฅเบฑเบ!');
}
}

init();
</script>
</body>
</html>